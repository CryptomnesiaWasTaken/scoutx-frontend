{"version":3,"sources":["components/Input/EmojiPicker.jsx","components/Input/Input.jsx","components/Options/Options.jsx","components/Confirmation/useConfirmation.jsx","DATE.js","utils/getDateString.js","components/Post/Loading.jsx","components/Post/Share.jsx","components/Post/ImageViewer.jsx","components/Post/Post.jsx","components/InfinityScroll/InfinityScroll.jsx","components/Post/Posts.jsx","components/SetupProfile/SetupProfile.jsx","components/ImageUpload/ImageUpload.jsx","components/ProfileCard/ProfileCard.jsx"],"names":["EmojiPicker","forwardRef","ref","setValue","emojiRef","useRef","useImperativeHandle","close","setIsOpen","useState","isOpen","useEffect","emojiPicker","current","addEmoji","e","value","detail","unicode","addEventListener","removeEventListener","className","onClick","open","Input","placeholder","handler","showEmoji","initialValue","submitHandler","preventDefault","trim","onSubmit","type","onChange","target","onFocus","src","sendIcon","alt","Options","options","id","isOptionsVisible","setIsOptionsVisible","handleOutsideClick","document","body","val","optionsIcon","Object","entries","map","i","title","handleClick","Confirmation","show","toggleShow","text","onSuccess","onClose","useConfirmation","setShow","Comp","months","getDateString","date","newDate","Date","getDate","getMonth","getFullYear","Post","singlepost","dp","style","width","height","marginTop","borderRadius","Loading","ShareItem","item","Icon","Share","post","dispatch","useDispatch","shareToUrls","twitter","caption","_id","facebook","linkedin","whatsapp","shareTo","dest","window","shareItems","navigator","clipboard","writeText","showModal","msg","ImEmbed","IoLogoWhatsapp","BsFacebook","AiOutlineTwitter","FaLinkedinIn","ImageViewer","image","closeIcon","createdAt","showShare","setShowShare","showImage","setShowImage","customFetch","useFetch","navigate","useNavigate","useSelector","state","user","usersOnline","users","isOwnPost","createdBy","isLiked","likes","includes","isOnline","some","deletePost","Delete","Edit","setEditingPost","postDetails","toggleImage","split","para","Backdrop","loading","to","userDetails","name","likePost","length","getNumberOfLikes","comment","commentPost","comments","InfinityScroll","getNextPage","children","offset","contentRef","isFinished","setIsFinished","isLoading","setIsLoading","useCallback","a","content","getBoundingClientRect","top","remainingSpaceAtBottom","innerHeight","Posts","posts","SetupProfile","about","location","setUserDetails","_updateUser","key","clickHandler","updateUserService","data","getUsers","update","htmlFor","required","ImageUpload","setImage","preview","setPreview","compress","Compress","formData","FormData","append","updateDPService","profileImage","accept","input","reader","FileReader","onload","result","files","readAsDataURL","size","quality","maxWidth","maxHeight","resize","rotate","then","convertBase64ToFile","ext","ProfileCard","isOwnProfile","isGuest","find","isEditing","setIsEditing","isUploading","setIsUploading","email","dob","sendMessage","createChat","innerWidth","hideUploading","hideEditing","cameraIcon","clockIcon","locationIcon","mailIcon","cakeIcon","logout","disabled"],"mappings":"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","file":"static/js/2.3614fc80.chunk.js","sourcesContent":["import React, { forwardRef } from \"react\";\nimport \"emoji-picker-element\";\nimport { FaRegKeyboard } from \"react-icons/fa\";\nimport { BsEmojiSmile } from \"react-icons/bs\";\nimport { useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport { useState } from \"react\";\nimport { useImperativeHandle } from \"react\";\n\nconst EmojiPicker = forwardRef(({ setValue }, ref) => {\n\tconst emojiRef = useRef();\n\n\tuseImperativeHandle(ref, () => ({\n\t\tclose: () => setIsOpen(false),\n\t}));\n\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst emojiPicker = emojiRef.current;\n\t\tconst addEmoji = e => {\n\t\t\tsetValue(value => value + e.detail.unicode);\n\t\t};\n\t\temojiPicker.addEventListener(\"emoji-click\", addEmoji);\n\t\treturn () => {\n\t\t\temojiPicker.removeEventListener(\"emoji-click\", addEmoji);\n\t\t};\n\t}, [setValue]);\n\n\treturn (\n\t\t<div className=\"emoji-picker\">\n\t\t\t<div className=\"opener\" onClick={() => setIsOpen(open => !open)}>\n\t\t\t\t{isOpen ? <FaRegKeyboard /> : <BsEmojiSmile />}\n\t\t\t</div>\n\t\t\t<div className={isOpen ? \"picker open\" : \"picker\"}>\n\t\t\t\t<emoji-picker ref={emojiRef} />\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default EmojiPicker;\n","import React, { useState } from \"react\";\nimport { sendIcon } from \"../../assets\";\n\nimport \"./input.css\";\nimport EmojiPicker from \"./EmojiPicker\";\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\n\nconst Input = ({ placeholder, handler, showEmoji, initialValue = \"\" }) => {\n\tconst submitHandler = async e => {\n\t\te.preventDefault();\n\t\temojiRef.current?.close();\n\t\tif (value.trim()) handler(value.trim());\n\t\tsetValue(\"\");\n\t};\n\tconst [value, setValue] = useState(initialValue);\n\tconst emojiRef = useRef();\n\n\tuseEffect(() => {\n\t\tsetValue(initialValue);\n\t}, [initialValue]);\n\n\treturn (\n\t\t<form className=\"input__box\" onSubmit={submitHandler}>\n\t\t\t{showEmoji && <EmojiPicker setValue={setValue} ref={emojiRef} />}\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={e => setValue(e.target.value)}\n\t\t\t\tonFocus={() => emojiRef.current?.close()}\n\t\t\t/>\n\t\t\t<button type=\"submit\" aria-label=\"submit\">\n\t\t\t\t<img src={sendIcon} alt=\"send\" />\n\t\t\t</button>\n\t\t</form>\n\t);\n};\n\nexport default Input;\n","import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { optionsIcon } from \"../../assets\";\nimport \"./options.css\";\n\nconst Options = ({ options, id = \"\" }) => {\n\tconst [isOptionsVisible, setIsOptionsVisible] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst handleOutsideClick = e => {\n\t\t\tif (e.target.id !== \"options\" + id && e.target.id !== \"options__icon\" + id) {\n\t\t\t\tsetIsOptionsVisible(false);\n\t\t\t}\n\t\t};\n\t\tdocument.body.addEventListener(\"click\", handleOutsideClick);\n\t\treturn () => document.body.removeEventListener(\"click\", handleOutsideClick);\n\t}, [id]);\n\n\tconst handleClick = handler => {\n\t\tsetIsOptionsVisible(false);\n\t\thandler();\n\t};\n\n\treturn (\n\t\t<div className=\"options\" id={\"options\" + id} onClick={() => setIsOptionsVisible(val => !val)}>\n\t\t\t<img src={optionsIcon} alt=\"options\" className=\"options__icon\" id={\"options__icon\" + id} />\n\t\t\t<ul className={isOptionsVisible ? \"show\" : \"\"}>\n\t\t\t\t{Object.entries(options).map(([title, handler], i) => (\n\t\t\t\t\t<li onClick={() => handleClick(handler)} key={i}>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default Options;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport \"./confirmation.css\";\n\nconst Confirmation = ({ show, toggleShow, text, onSuccess }) => (\n\t<Backdrop show={show} onClose={toggleShow}>\n\t\t<div className=\"confirmation\">\n\t\t\t<h2>{text}</h2>\n\t\t\t<div className=\"btn-group\">\n\t\t\t\t<button onClick={toggleShow}>Cancel</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"danger\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttoggleShow();\n\t\t\t\t\t\tonSuccess();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tYes, I'm sure\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</Backdrop>\n);\nconst useConfirmation = (onSuccess, text = \"Are Your sure ?\") => {\n\tconst [show, setShow] = useState(false);\n\tconst toggleShow = () => setShow(!show);\n\tconst Comp = <Confirmation show={show} onSuccess={onSuccess} text={text} toggleShow={toggleShow} />;\n\treturn { toggleShow, Confirmation: Comp };\n};\n\nexport default useConfirmation;\n","const months = [\n   \"January\",\n   \"February\",\n   \"March\",\n   \"April\",\n   \"May\",\n   \"June\",\n   \"July\",\n   \"August\",\n   \"September\",\n   \"October\",\n   \"November\",\n   \"December\",\n];\n\nexport { months };\n","import { months } from \"../DATE\";\n\nconst getDateString = date => {\n\tif (!date) return \"\";\n\tlet newDate = new Date(date);\n\tnewDate = `${newDate.getDate()} ${months[newDate.getMonth()]} ${newDate.getFullYear()}`;\n\treturn newDate;\n};\n\nexport default getDateString;\n","import React from \"react\";\nimport { dp } from \"../../assets\";\nimport { AiFillHeart } from \"react-icons/ai\";\n\nexport const Post = ({ singlepost }) => (\n\t<article className={singlepost ? \"post halfborder single\" : \"post gradient-border\"}>\n\t\t<header>\n\t\t\t<img src={dp} alt=\"profileImage\" className=\"post__dp roundimage\" />\n\t\t\t<div>\n\t\t\t\t<div className=\"loadingBox\" style={{ width: \"70px\", height: \"10px\" }}></div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"loadingBox\"\n\t\t\t\t\tstyle={{ width: \"100px\", height: \"10px\", marginTop: \"0.5em\" }}\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t</header>\n\t\t<div className=\"post__details\">\n\t\t\t<div\n\t\t\t\tclassName=\"loadingBox\"\n\t\t\t\tstyle={{ width: \"100%\", height: singlepost ? \"60vh\" : \"400px\", borderRadius: \"1em\" }}\n\t\t\t></div>\n\t\t</div>\n\t\t<div className=\"post__footer\">\n\t\t\t<div className=\"group\">\n\t\t\t\t<AiFillHeart />\n\t\t\t\t<div className=\"loadingBox\" style={{ width: \"250px\", height: \"20px\" }}></div>\n\t\t\t</div>\n\t\t</div>\n\t</article>\n);\n\nconst Loading = () => {\n\treturn (\n\t\t<>\n\t\t\t<Post />\n\t\t\t<Post />\n\t\t\t<Post />\n\t\t</>\n\t);\n};\n\nexport default Loading;\n","import React from \"react\";\nimport { AiOutlineTwitter } from \"react-icons/ai\";\nimport { IoLogoWhatsapp } from \"react-icons/io\";\nimport { BsFacebook } from \"react-icons/bs\";\nimport { FaLinkedinIn } from \"react-icons/fa\";\nimport { ImEmbed } from \"react-icons/im\";\nimport { useDispatch } from \"react-redux\";\nimport { showModal } from \"../../features/modalSlice\";\n\nconst ShareItem = ({ item }) => {\n\tconst { onClick, Icon, title } = item;\n\treturn (\n\t\t<div className=\"share__item\" onClick={onClick}>\n\t\t\t<Icon />\n\t\t\t<p>{title}</p>\n\t\t</div>\n\t);\n};\n\nconst Share = ({ post }) => {\n\tconst dispatch = useDispatch();\n\n\tconst copyURL = () => {\n\t\twindow.navigator.clipboard.writeText(`https://adra-amie.netlify.app/post/${post._id}`);\n\t\tdispatch(showModal({ msg: \"URL copied to clipboard\" }));\n\t};\n\n\tconst copyEmbed = () => {\n\t\twindow.navigator.clipboard.writeText(\n\t\t\t`<iframe\n\t\t\t\tsrc=\"https://adra-amie.netlify.app/post/${post._id}?embed=true\"\n\t\t\t\twidth=\"500\"\n\t\t\t\theight=\"700\"\n\t\t\t\ttitle=\"social-media-app\"\n\t\t\t></iframe>`\n\t\t);\n\t\tdispatch(showModal({ msg: \"Copied embed code to clipboard\" }));\n\t};\n\n\tconst shareToUrls = {\n\t\ttwitter: `https://twitter.com/intent/tweet?text=${post.caption}&url=https://adra-amie.netlify.app/post/${post._id}`,\n\t\tfacebook: `https://www.facebook.com/dialog/share?\n\t\tapp_id=287203076842060\n\t\t&display=popup\n\t\t&href=https://adra-amie.netlify.app/post/${post._id}\n\t\t&redirect_uri=https://adra-amie.netlify.app/post/${post._id}`,\n\t\tlinkedin: `https://www.linkedin.com/sharing/share-offsite/?url=https://adra-amie.netlify.app/post/${post._id}`,\n\t\twhatsapp: `https://api.whatsapp.com/send/?text=${post.caption} Link: https://adra-amie.netlify.app/post/${post._id}`,\n\t};\n\n\tconst shareTo = dest => {\n\t\twindow.open(shareToUrls[dest], \"_blank\");\n\t};\n\n\tconst shareItems = [\n\t\t{\n\t\t\ttitle: \"Embed\",\n\t\t\tonClick: copyEmbed,\n\t\t\tIcon: ImEmbed,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Whatsapp\",\n\t\t\tonClick: () => shareTo(\"whatsapp\"),\n\t\t\tIcon: IoLogoWhatsapp,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Facebook\",\n\t\t\tonClick: () => shareTo(\"facebook\"),\n\t\t\tIcon: BsFacebook,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Twitter\",\n\t\t\tonClick: () => shareTo(\"twitter\"),\n\t\t\tIcon: AiOutlineTwitter,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Linked In\",\n\t\t\tonClick: () => shareTo(\"linkedin\"),\n\t\t\tIcon: FaLinkedinIn,\n\t\t},\n\t];\n\n\treturn (\n\t\t<article className=\"share\">\n\t\t\t<h2>Share</h2>\n\t\t\t<div className=\"share__items\">\n\t\t\t\t{shareItems.map((item, i) => (\n\t\t\t\t\t<ShareItem item={item} key={i} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className=\"share__url\">\n\t\t\t\t{post._id}\n\t\t\t\t<button className=\"btn\" onClick={copyURL}>\n\t\t\t\t\tCopy URL\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</article>\n\t);\n};\n\nexport default Share;\n","import React from \"react\";\nimport { closeIcon } from \"../../assets\";\n\nconst ImageViewer = ({ image, onClose }) => {\n\treturn (\n\t\t<div className=\"imageViewer\">\n\t\t\t<button onClick={onClose} aria-label=\"close\">\n\t\t\t\t<img src={closeIcon} alt=\"close\" />\n\t\t\t</button>\n\t\t\t<img src={image} alt=\"post\" />\n\t\t</div>\n\t);\n};\n\nexport default ImageViewer;\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deletePost, setEditingPost, commentPost, likePost } from \"../../features/postSlice\";\nimport { dp } from \"../../assets\";\nimport Input from \"../Input/Input\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport useFetch from \"../../hooks/useFetch\";\nimport Options from \"../Options/Options\";\nimport \"./post.css\";\nimport { AiOutlineHeart, AiFillHeart } from \"react-icons/ai\";\nimport { BiCommentDetail } from \"react-icons/bi\";\nimport { IoIosShareAlt } from \"react-icons/io\";\nimport getDateString from \"../../utils/getDateString\";\nimport Share from \"./Share\";\nimport { useState } from \"react\";\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport ImageViewer from \"./ImageViewer\";\nimport useConfirmation from \"../Confirmation/useConfirmation\";\n\nconst Post = ({ singlepost, post }) => {\n\tconst createdAt = getDateString(post.createdAt);\n\tconst [showShare, setShowShare] = useState(false);\n\tconst [showImage, setShowImage] = useState(false);\n\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\tconst navigate = useNavigate();\n\n\t//global states\n\tconst {\n\t\tuser: { id },\n\t\tusers: { usersOnline },\n\t} = useSelector(state => state);\n\tconst isOwnPost = id === post.createdBy;\n\tconst isLiked = post.likes?.includes(id);\n\tconst isOnline = usersOnline.some(user => user.id === post.createdBy);\n\n\tconst likeHandler = () => {\n\t\tdispatch(likePost({ customFetch, id: post._id, isLiked }));\n\t};\n\n\tconst commentHandler = comment => {\n\t\tdispatch(commentPost({ customFetch, id: post._id, comment }));\n\t};\n\n\tconst deleteHandler = () => {\n\t\tdispatch(deletePost({ customFetch, id: post._id }));\n\t\tsinglepost && navigate(-1);\n\t};\n\n\tconst editHandler = () => {\n\t\tdispatch(setEditingPost(post));\n\t};\n\n\tconst { Confirmation, toggleShow } = useConfirmation(\n\t\tdeleteHandler,\n\t\t\"Are you sure, You want to delete the post?\"\n\t);\n\n\tconst options = {\n\t\tDelete: toggleShow,\n\t\tEdit: editHandler,\n\t};\n\n\tconst getParagraphs = text => {\n\t\tconst paragraphArray = text.split(/[\\n\\r]/g);\n\t\treturn paragraphArray.map(\n\t\t\t(para, i) =>\n\t\t\t\tpara && (\n\t\t\t\t\t<p className=\"post__caption\" key={i}>\n\t\t\t\t\t\t{para}\n\t\t\t\t\t</p>\n\t\t\t\t)\n\t\t);\n\t};\n\n\tconst getNumberOfLikes = () => {\n\t\tif (post.likes?.length) {\n\t\t\treturn post.likes?.includes(id)\n\t\t\t\t? post.likes?.length - 1 === 0\n\t\t\t\t\t? \"You\"\n\t\t\t\t\t: post.likes?.length - 1 === 1\n\t\t\t\t\t? \"You and 1 more\"\n\t\t\t\t\t: `You and ${post.likes.length - 1} others`\n\t\t\t\t: post.likes?.length;\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tconst postDetails = () => {\n\t\tconst toggleImage = () => setShowImage(!showImage);\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{post.caption && getParagraphs(post.caption)}\n\t\t\t\t{singlepost && (\n\t\t\t\t\t<Backdrop show={showImage} onClose={toggleImage}>\n\t\t\t\t\t\t<ImageViewer image={post.image?.src} />\n\t\t\t\t\t</Backdrop>\n\t\t\t\t)}\n\t\t\t\t{post.image?.src && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={post.image.src}\n\t\t\t\t\t\talt=\"post_image\"\n\t\t\t\t\t\tclassName=\"post__image\"\n\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\tonClick={toggleImage}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\treturn (\n\t\t<article className={singlepost ? \"post halfborder single\" : \"post gradient-border\"}>\n\t\t\t{Confirmation}\n\t\t\t<Backdrop show={showShare} onClose={() => setShowShare(false)}>\n\t\t\t\t<Share post={post} />\n\t\t\t</Backdrop>\n\t\t\t<header>\n\t\t\t\t<Link to={`/user/${post.createdBy}`} className={isOnline ? \"green\" : \"\"}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={post.userDetails?.image || dp}\n\t\t\t\t\t\talt=\"profileImage\"\n\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\tclassName=\"post__dp roundimage\"\n\t\t\t\t\t/>\n\t\t\t\t</Link>\n\t\t\t\t<div>\n\t\t\t\t\t<h3>{post.userDetails?.name}</h3>\n\t\t\t\t\t<p>{createdAt}</p>\n\t\t\t\t</div>\n\t\t\t\t{isOwnPost && <Options options={options} id={post._id} />}\n\t\t\t</header>\n\t\t\t<div className=\"post__details\">\n\t\t\t\t{singlepost ? postDetails() : <Link to={`/post/${post._id}`}>{postDetails()}</Link>}\n\t\t\t</div>\n\t\t\t<div className=\"post__footer\">\n\t\t\t\t<div className=\"group\">\n\t\t\t\t\t<div onClick={likeHandler}>{isLiked ? <AiFillHeart /> : <AiOutlineHeart />}</div>\n\t\t\t\t\t<p>{getNumberOfLikes()}</p>\n\t\t\t\t</div>\n\t\t\t\t{singlepost || <Input placeholder={\"Write a comment...\"} handler={commentHandler} />}\n\t\t\t\t<Link className={singlepost ? \"comment__icon group\" : \"group\"} to={`/post/${post._id}`}>\n\t\t\t\t\t<BiCommentDetail />\n\t\t\t\t\t<p>{post.comments.length}</p>\n\t\t\t\t</Link>\n\t\t\t\t<div className=\"group\" onClick={() => setShowShare(true)} title=\"share\">\n\t\t\t\t\t<IoIosShareAlt />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</article>\n\t);\n};\n\nexport default Post;\n","import React, { useCallback, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useRef } from \"react\";\n\nconst InfinityScroll = ({ getNextPage, children, offset = 10 }) => {\n\tconst contentRef = useRef();\n\tconst [isFinished, setIsFinished] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tconst handler = useCallback(async () => {\n\t\tconst content = contentRef.current;\n\t\tif (!content) return;\n\t\tconst { height, top } = content.getBoundingClientRect();\n\t\tconst remainingSpaceAtBottom = window.innerHeight + top * -1 - height;\n\t\tconst isReachedBottom = remainingSpaceAtBottom > offset;\n\t\tif (isReachedBottom && !isFinished && !isLoading) {\n\t\t\tsetIsLoading(true);\n\t\t\tconst length = await getNextPage();\n\t\t\tif (!length) setIsFinished(true);\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [isLoading, isFinished, offset, getNextPage]);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"scroll\", handler);\n\t\treturn () => document.removeEventListener(\"scroll\", handler);\n\t}, [handler]);\n\n\treturn (\n\t\t<div className=\"infinityScroll\">\n\t\t\t<div className=\"infinityScroll__content\" ref={contentRef}>\n\t\t\t\t{children}\n\t\t\t\t{!isFinished && isLoading && <div className=\"loading__circle\" />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default InfinityScroll;\n","import React from \"react\";\nimport Loading from \"./Loading\";\nimport Post from \"./Post\";\n\nconst Posts = ({ posts, isLoading }) => {\n\treturn (\n\t\t<div className=\"posts\">\n\t\t\t{isLoading ? <Loading /> : posts.map(post => <Post post={post} key={post._id} />)}\n\t\t</div>\n\t);\n};\n\nexport default Posts;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { update } from \"../../features/userSlice\";\nimport { showModal } from \"../../features/modalSlice\";\nimport useFetch from \"../../hooks/useFetch\";\nimport \"./setupprofile.css\";\nimport { useEffect } from \"react\";\nimport { updateUserService } from \"../../services/userServices\";\nimport { getUsers } from \"../../features/usersSlice\";\n\nconst SetupProfile = ({ close, user }) => {\n\tconst [userDetails, setUserDetails] = useState({ name: \"\", about: \"\", location: \"\" });\n\n\tuseEffect(() => {\n\t\tuser._id &&\n\t\t\tsetUserDetails({\n\t\t\t\tname: user.name || \"\",\n\t\t\t\tabout: user.about || \"\",\n\t\t\t\tlocation: user.location || \"\",\n\t\t\t});\n\t}, [user]);\n\n\tconst _updateUser = (key, e) => {\n\t\tsetUserDetails(user => ({\n\t\t\t...user,\n\t\t\t[key]: e.target.value,\n\t\t}));\n\t};\n\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\n\tconst clickHandler = async e => {\n\t\te.preventDefault();\n\t\tconst data = await customFetch(updateUserService, userDetails);\n\t\tif (data) {\n\t\t\tdispatch(getUsers({ customFetch }));\n\t\t\tclose();\n\t\t\tdispatch(update({ name: data.user.name, id: data.user._id }));\n\t\t\tdispatch(showModal({ msg: \"Success\" }));\n\t\t}\n\t};\n\n\treturn (\n\t\t<form onSubmit={clickHandler} className=\"setup\">\n\t\t\t<label htmlFor=\"\">Username</label>\n\t\t\t<input type=\"text\" value={userDetails.name} required onChange={e => _updateUser(\"name\", e)} />\n\t\t\t<label htmlFor=\"\">About</label>\n\t\t\t<input type=\"text\" value={userDetails.about} onChange={e => _updateUser(\"about\", e)} />\n\t\t\t<label htmlFor=\"\">Location</label>\n\t\t\t<input type=\"text\" value={userDetails.location} onChange={e => _updateUser(\"location\", e)} />\n\t\t\t<button type=\"submit\">Continue</button>\n\t\t\t<button onClick={close} type=\"reset\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</form>\n\t);\n};\n\nexport default SetupProfile;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { update } from \"../../features/userSlice\";\nimport { showModal } from \"../../features/modalSlice\";\nimport useFetch from \"../../hooks/useFetch\";\nimport Compress from \"compress.js\";\nimport { updateDPService } from \"../../services/userServices\";\nimport \"./imageupload.css\";\nimport { getUsers } from \"../../features/usersSlice\";\n\nconst ImageUpload = ({ close }) => {\n\tconst [image, setImage] = useState(null);\n\tconst [preview, setPreview] = useState(null);\n\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\tconst compress = new Compress();\n\n\tconst loadImage = e => {\n\t\tconst input = e.target;\n\t\tif (!input) return;\n\t\tvar reader = new FileReader();\n\t\treader.onload = function (e) {\n\t\t\tsetPreview(e.target.result);\n\t\t};\n\t\tinput.files[0] && reader.readAsDataURL(input.files[0]);\n\t\tconst files = [...input.files];\n\t\tcompress\n\t\t\t.compress(files, {\n\t\t\t\tsize: 0.5,\n\t\t\t\tquality: 0.75,\n\t\t\t\tmaxWidth: 1000,\n\t\t\t\tmaxHeight: 1000,\n\t\t\t\tresize: true,\n\t\t\t\trotate: false,\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tsetImage(Compress.convertBase64ToFile(data[0]?.data, data[0]?.ext));\n\t\t\t});\n\t};\n\n\tconst submitHandler = async e => {\n\t\te.preventDefault();\n\t\tconst formData = new FormData();\n\t\tformData.append(\"image\", image);\n\t\tdispatch(showModal({}));\n\t\tconst data = await customFetch(updateDPService, formData);\n\t\tif (data) {\n\t\t\tdispatch(getUsers({ customFetch }));\n\t\t\tdispatch(update({ profileImage: data.user.profileImage, id: data.user._id }));\n\t\t\tclose();\n\t\t\tdispatch(showModal({ msg: \"Success\" }));\n\t\t\tsetImage(null);\n\t\t\tsetPreview(null);\n\t\t}\n\t};\n\n\treturn (\n\t\t<form onSubmit={submitHandler} className=\"imageupload\">\n\t\t\t{preview && <img src={preview} alt=\"upload-preview\" />}\n\t\t\t<div className=\"btns\">\n\t\t\t\t<label htmlFor=\"dp-image\">Upload</label>\n\t\t\t\t<input type=\"file\" id=\"dp-image\" accept=\"image/png, image/jpeg\" onChange={loadImage} />\n\t\t\t\t{image && <button type=\"submit\">Submit</button>}\n\t\t\t\t<button onClick={close} type=\"reset\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default ImageUpload;\n","import React, { useState } from \"react\";\nimport { dp, clockIcon, cakeIcon, locationIcon, mailIcon, cameraIcon } from \"../../assets\";\nimport SetupProfile from \"../SetupProfile/SetupProfile\";\nimport ImageUpload from \"../ImageUpload/ImageUpload\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createChat } from \"../../features/messageSlice\";\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport { setIsLoading, showModal } from \"../../features/modalSlice\";\nimport \"./profilecard.css\";\nimport { logout } from \"../../features/userSlice\";\nimport getDateString from \"../../utils/getDateString\";\n\nconst ProfileCard = ({ id, isOwnProfile }) => {\n\tconst {\n\t\tusers: { users },\n\t\tuser: { isGuest },\n\t} = useSelector(state => state);\n\tconst user = users.find(user => user._id === id) || {};\n\tconst [isEditing, setIsEditing] = useState(false);\n\tconst [isUploading, setIsUploading] = useState(false);\n\n\tconst customFetch = useFetch();\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\n\tlet { name, email, about, dob, location, createdAt, profileImage } = user;\n\tcreatedAt = `Joined on ${getDateString(createdAt)}`;\n\tdob = getDateString(dob);\n\n\tconst sendMessage = async () => {\n\t\tif (isGuest) return dispatch(showModal({ msg: \"You must be logged in to do this action!!\" }));\n\t\tdispatch(setIsLoading(true));\n\t\tdispatch(createChat({ customFetch, id })).then(() => {\n\t\t\tif (window.innerWidth < 801) navigate(\"/chat/messenger\");\n\t\t\telse navigate(\"/chat\");\n\t\t\tdispatch(setIsLoading(false));\n\t\t});\n\t};\n\n\tconst hideUploading = () => {\n\t\tsetIsUploading(false);\n\t};\n\tconst hideEditing = () => {\n\t\tsetIsEditing(false);\n\t};\n\n\treturn (\n\t\t<section className=\"profilecard gradient-border\">\n\t\t\t{isOwnProfile && (\n\t\t\t\t<>\n\t\t\t\t\t<Backdrop show={isEditing} onClose={hideEditing}>\n\t\t\t\t\t\t<SetupProfile close={hideEditing} user={user} />\n\t\t\t\t\t</Backdrop>\n\t\t\t\t\t<Backdrop show={isUploading} onClose={hideUploading}>\n\t\t\t\t\t\t<ImageUpload close={hideUploading} />\n\t\t\t\t\t</Backdrop>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<header>\n\t\t\t\t<div>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={profileImage || dp}\n\t\t\t\t\t\talt=\"profile_image\"\n\t\t\t\t\t\tclassName=\"profilecard__dp roundimage\"\n\t\t\t\t\t/>\n\t\t\t\t\t{isOwnProfile && (\n\t\t\t\t\t\t<div className=\"dp-upload\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={cameraIcon}\n\t\t\t\t\t\t\t\talt=\"change_profile_image\"\n\t\t\t\t\t\t\t\tonClick={() => setIsUploading(true)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<h1>{name || \"User\"}</h1>\n\t\t\t\t<h2>{about || \"About\"}</h2>\n\t\t\t</header>\n\t\t\t<article>\n\t\t\t\t<div className=\"profilecard__info\">\n\t\t\t\t\t<img src={clockIcon} alt=\"join date\" />\n\t\t\t\t\t<h3>{createdAt}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profilecard__info\">\n\t\t\t\t\t<img src={locationIcon} alt=\"location\" />\n\t\t\t\t\t<h3>{location}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profilecard__info\">\n\t\t\t\t\t<img src={mailIcon} alt=\"mail\" />\n\t\t\t\t\t<h3>{email}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"profilecard__info\">\n\t\t\t\t\t<img src={cakeIcon} alt=\"date of birth\" />\n\t\t\t\t\t<h3>{dob}</h3>\n\t\t\t\t</div>\n\t\t\t</article>\n\t\t\t{isOwnProfile ? (\n\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t<button onClick={() => dispatch(logout())}>Logout</button>\n\t\t\t\t\t<button onClick={() => setIsEditing(true)}>Edit Profile</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"btn-group\">\n\t\t\t\t\t<button onClick={sendMessage}>Message</button>\n\t\t\t\t\t<button disabled>Add Friend</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</section>\n\t);\n};\n\nexport default ProfileCard;\n"],"sourceRoot":""}