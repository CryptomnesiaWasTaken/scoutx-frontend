{"version":3,"sources":["components/MainGallery/MainGallery.jsx","components/Gallery/Gallery.jsx","pages/Profile/Profile.jsx"],"names":["MainGallery","posts","onClose","className","onClick","src","closeIcon","alt","map","post","to","_id","image","Gallery","postsWithImages","useSelector","state","userPosts","filter","useState","isMainGalleryOpen","setIsMainGalleryOpen","Backdrop","show","v","i","length","Profile","id","useParams","page","isOwnProfile","user","isLoading","setIsLoading","dispatch","useDispatch","customFetch","useFetch","useEffect","a","fetchPostsService","userId","data","setUserPosts","getNextPage","concat","ProfileCard","InfinityScroll","CreatePost","Posts","Online"],"mappings":"4PAoBeA,EAfK,SAAH,GAA4B,IAAtBC,EAAK,EAALA,MAAOC,EAAO,EAAPA,QAC7B,OACC,sBAAKC,UAAU,cAAa,UAC3B,wBAAQC,QAASF,EAAS,aAAW,QAAO,SAC3C,qBAAKG,IAAKC,IAAWC,IAAI,YAEzBN,EAAMO,KAAI,SAAAC,GAAI,OACd,cAAC,IAAI,CAACC,GAAE,gBAAWD,EAAKE,KAAM,SAC7B,qBAAKN,IAAKI,EAAKG,MAAMP,IAAKE,IAAI,iBADKE,EAAKE,YC4B9BE,G,OAjCC,WACf,IAGMC,EADFC,aAAY,SAAAC,GAAK,OAAIA,EAAMP,QAD9BQ,UAAahB,MAEgBiB,QAAO,SAAAT,GAAI,QAAMA,EAAKG,SACpD,EAAkDO,oBAAS,GAAM,mBAA1DC,EAAiB,KAAEC,EAAoB,KAM9C,OACC,0BAASlB,UAAU,UAAS,UAC3B,cAACmB,EAAA,EAAQ,CAACC,KAAMH,EAAmBlB,QANjB,WACnBmB,GAAqB,IAKoC,SACvD,cAAC,EAAW,CAACpB,MAAOa,MAErB,qBAAKX,UAAU,kBAAiB,SAC9BW,EAAgBN,KAChB,SAACgB,EAAGC,GAAC,OACJA,EAAI,GACH,cAAC,IAAI,CAACf,GAAE,gBAAWc,EAAEb,KAAM,SAC1B,qBAAKN,IAAM,OAADmB,QAAC,IAADA,OAAC,EAADA,EAAGZ,MAAMP,IAAKE,IAAI,eADIiB,EAAEb,UAMtCG,EAAgBY,OAAS,GACzB,wBAAQtB,QAAS,kBAAMiB,GAAqB,IAAM,2B,iFC0BvCM,UA9CC,WACf,IAAQC,EAAOC,cAAPD,GAG4B,EAAhCb,aAAY,SAAAC,GAAK,OAAIA,EAAMP,QAD9BQ,UAAahB,EAAK,EAALA,MAAO6B,EAAI,EAAJA,KAEfC,EAAeH,IAAOb,aAAY,SAAAC,GAAK,OAAIA,EAAMgB,KAAKJ,MAC5D,EAAkCT,oBAAS,GAAK,mBAAzCc,EAAS,KAAEC,EAAY,KAExBC,EAAWC,cACXC,EAAcC,cAEpBC,qBAAU,WACT,sBAAC,4BAAAC,EAAA,sDACmB,OAAnBN,GAAa,GAAM,SACAG,EAAYI,IAAmB,CAAEC,OAAQd,IAAM,KAAD,GAA3De,EAAI,SACAR,EAASS,YAAaD,IAChCT,GAAa,GAAO,0CAJrB,KAME,CAACC,EAAUP,EAAIS,IAElB,IAAMQ,EAAW,uCAAG,4BAAAL,EAAA,sEACAH,EAAYI,IAAmB,CAAEC,OAAQd,EAAIE,KAAMA,EAAO,IAAK,KAAD,EACJ,OADvEa,EAAI,OACVR,EAASS,YAAa,CAAE3C,MAAOA,EAAM6C,OAAOH,EAAK1C,OAAQ6B,KAAMa,EAAKb,QAAS,kBACtEa,EAAK1C,MAAMyB,QAAM,2CACxB,kBAJgB,mCAMjB,OACC,0BAASvB,UAAU,UAAS,UAC3B,0BAASA,UAAU,gBAAe,UACjC,cAAC4C,EAAA,EAAW,CAACnB,GAAIA,EAAIG,aAAcA,IACnC,cAAC,EAAO,OAET,cAACiB,EAAA,EAAc,CAACH,YAAaA,EAAY,SACxC,0BAAS1C,UAAU,kBAAiB,UAClC4B,GAAgB,cAACkB,EAAA,EAAU,IAC3BhD,EAAMyB,OAAS,IAAMO,GAAa,0CACnC,cAACiB,EAAA,EAAK,CAACjD,MAAOA,EAAOgC,UAAWA,SAGlC,yBAAS9B,UAAU,iCAAgC,SAClD,cAACgD,EAAA,EAAM","file":"static/js/9.4416c7a5.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { closeIcon } from \"../../assets\";\nimport \"./maingallery.css\";\n\nconst MainGallery = ({ posts, onClose }) => {\n\treturn (\n\t\t<div className=\"maingallery\">\n\t\t\t<button onClick={onClose} aria-label=\"close\">\n\t\t\t\t<img src={closeIcon} alt=\"close\" />\n\t\t\t</button>\n\t\t\t{posts.map(post => (\n\t\t\t\t<Link to={`/post/${post._id}`} key={post._id}>\n\t\t\t\t\t<img src={post.image.src} alt=\"post-images\" />\n\t\t\t\t</Link>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default MainGallery;\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport MainGallery from \"../MainGallery/MainGallery\";\nimport \"./gallery.css\";\n\nconst Gallery = () => {\n\tconst {\n\t\tuserPosts: { posts },\n\t} = useSelector(state => state.post);\n\tconst postsWithImages = posts.filter(post => !!post.image);\n\tconst [isMainGalleryOpen, setIsMainGalleryOpen] = useState(false);\n\n\tconst hideGallery = () => {\n\t\tsetIsMainGalleryOpen(false);\n\t};\n\n\treturn (\n\t\t<section className=\"gallery\">\n\t\t\t<Backdrop show={isMainGalleryOpen} onClose={hideGallery}>\n\t\t\t\t<MainGallery posts={postsWithImages} />\n\t\t\t</Backdrop>\n\t\t\t<div className=\"gallery__images\">\n\t\t\t\t{postsWithImages.map(\n\t\t\t\t\t(v, i) =>\n\t\t\t\t\t\ti < 3 && (\n\t\t\t\t\t\t\t<Link to={`/post/${v._id}`} key={v._id}>\n\t\t\t\t\t\t\t\t<img src={v?.image.src} alt=\"postimage\" />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{postsWithImages.length > 3 && (\n\t\t\t\t<button onClick={() => setIsMainGalleryOpen(true)}>View All</button>\n\t\t\t)}\n\t\t</section>\n\t);\n};\n\nexport default Gallery;\n","import React, { useEffect, useState } from \"react\";\nimport Gallery from \"../../components/Gallery/Gallery\";\nimport Online from \"../../components/Online/Online\";\nimport ProfileCard from \"../../components/ProfileCard/ProfileCard\";\nimport { useParams } from \"react-router\";\nimport CreatePost from \"../../components/CreatePost/CreatePost\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setUserPosts } from \"../../features/postSlice\";\nimport useFetch from \"../../hooks/useFetch\";\nimport Posts from \"../../components/Post/Posts\";\nimport { fetchPostsService } from \"../../services/postServices\";\nimport InfinityScroll from \"../../components/InfinityScroll/InfinityScroll\";\nimport \"./profile.css\";\n\nconst Profile = () => {\n\tconst { id } = useParams();\n\tconst {\n\t\tuserPosts: { posts, page },\n\t} = useSelector(state => state.post);\n\tconst isOwnProfile = id === useSelector(state => state.user.id);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tconst dispatch = useDispatch();\n\tconst customFetch = useFetch();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tsetIsLoading(true);\n\t\t\tconst data = await customFetch(fetchPostsService, { userId: id });\n\t\t\tif (data) dispatch(setUserPosts(data));\n\t\t\tsetIsLoading(false);\n\t\t})();\n\t}, [dispatch, id, customFetch]);\n\n\tconst getNextPage = async () => {\n\t\tconst data = await customFetch(fetchPostsService, { userId: id, page: page + 1 });\n\t\tdispatch(setUserPosts({ posts: posts.concat(data.posts), page: data.page }));\n\t\treturn data.posts.length;\n\t};\n\n\treturn (\n\t\t<section className=\"profile\">\n\t\t\t<article className=\"profile__left\">\n\t\t\t\t<ProfileCard id={id} isOwnProfile={isOwnProfile} />\n\t\t\t\t<Gallery />\n\t\t\t</article>\n\t\t\t<InfinityScroll getNextPage={getNextPage}>\n\t\t\t\t<article className=\"profile__center\">\n\t\t\t\t\t{isOwnProfile && <CreatePost />}\n\t\t\t\t\t{posts.length < 1 && !isLoading && <h2>No Posts</h2>}\n\t\t\t\t\t<Posts posts={posts} isLoading={isLoading} />\n\t\t\t\t</article>\n\t\t\t</InfinityScroll>\n\t\t\t<article className=\"profile__right gradient-border\">\n\t\t\t\t<Online />\n\t\t\t</article>\n\t\t</section>\n\t);\n};\n\nexport default Profile;\n"],"sourceRoot":""}